<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Submit a Company - NXT CPA</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="nav-container">
                <div class="logo">
                    <a href="index.html">
                        <div class="logo-bars">
                            <span class="bar bar-1"></span>
                            <span class="bar bar-2"></span>
                            <span class="bar bar-3"></span>
                        </div>
                        <div class="logo-text">
                            <span class="logo-top">nxt</span>
                            <span class="logo-bottom">CPA</span>
                        </div>
                    </a>
                </div>
                <ul class="nav-menu">
                    <li class="nav-item dropdown">
                        <a href="learn-more.html" class="nav-link">Accounting Internship Overview <span class="dropdown-arrow">â–¼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="learn-more.html#overview" class="dropdown-link">Overview</a></li>
                            <li><a href="learn-more.html#types-of-firms" class="dropdown-link">Types of CPA Firms</a></li>
                            <li><a href="learn-more.html#accounting-jobs" class="dropdown-link">Different Jobs Within Accounting</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="freshman-internships.html" class="nav-link">Freshman Internships <span class="dropdown-arrow">â–¼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="freshman-internships.html#strategy" class="dropdown-link">Freshman Internship Recruiting Strategy</a></li>
                            <li><a href="freshman-internships.html#big4" class="dropdown-link">Big 4 Discovery Internships</a></li>
                            <li><a href="freshman-internships.html#opportunities" class="dropdown-link">Freshman Internship Opportunities</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="sophomore-internships.html" class="nav-link">Sophomore Internships <span class="dropdown-arrow">â–¼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="sophomore-internships.html#strategy" class="dropdown-link">Sophomore Internship Recruiting Strategy</a></li>
                            <li><a href="sophomore-internships.html#discovery" class="dropdown-link">Discovery Internships</a></li>
                            <li><a href="sophomore-internships.html#opportunities" class="dropdown-link">Sophomore Internship Opportunities</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="junior-internships.html" class="nav-link">Junior Internships <span class="dropdown-arrow">â–¼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="junior-internships.html#strategy" class="dropdown-link">Junior Internship Recruiting Strategy</a></li>
                            <li><a href="junior-internships.html#big4" class="dropdown-link">Big 4 Firms</a></li>
                            <li><a href="junior-internships.html#top25" class="dropdown-link">Top 25 Accounting Firms</a></li>
                            <li><a href="junior-internships.html#advisory" class="dropdown-link">Advisory Positions</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="crafting-your-application.html" class="nav-link">Crafting Your Application <span class="dropdown-arrow">â–¼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="crafting-your-application.html#resume" class="dropdown-link">Resume Writing</a></li>
                            <li><a href="crafting-your-application.html#cover-letter" class="dropdown-link">Cover Letters</a></li>
                            <li><a href="crafting-your-application.html#networking" class="dropdown-link">Networking Strategies</a></li>
                            <li><a href="crafting-your-application.html#timing" class="dropdown-link">Application Timing</a></li>
                        </ul>
                    </li>
                    <li class="nav-item dropdown">
                        <a href="acing-your-interview.html" class="nav-link">Acing Your Interview <span class="dropdown-arrow">â–¼</span></a>
                        <ul class="dropdown-menu">
                            <li><a href="acing-your-interview.html#preparation" class="dropdown-link">Interview Preparation</a></li>
                            <li><a href="acing-your-interview.html#questions" class="dropdown-link">Common Interview Questions</a></li>
                            <li><a href="acing-your-interview.html#behavioral" class="dropdown-link">Behavioral Interview Tips</a></li>
                            <li><a href="acing-your-interview.html#follow-up" class="dropdown-link">Follow-up Strategies</a></li>
                        </ul>
                    </li>
                    <li><a href="submit-company.html" class="nav-link">Submit a Company</a></li>
                </ul>
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </div>
        </nav>
    </header>

    <main>
        <section class="content-section" style="scroll-margin-top: 100px; padding-top: 3rem;">
            <div class="container">
                <h2>Submit a Company</h2>
                <p class="intro-text">Know of a company that offers internships for freshmen or sophomores? Help us expand our resource list by submitting company information below. We'll review your submission and add it to our listings if it meets our criteria.</p>
                
                <div style="background-color: #f0f9ff; border-left: 4px solid var(--primary-color); padding: 2rem; margin: 2rem 0; border-radius: 4px;">
                    <h3 style="color: var(--primary-color); margin-top: 0; margin-bottom: 1rem;">What We're Looking For</h3>
                    <ul style="margin: 0; padding-left: 1.5rem;">
                        <li>Companies that actively hire freshman or sophomore interns</li>
                        <li>CPA firms, accounting firms, or finance-related companies</li>
                        <li>Companies with publicly accessible careers pages or application processes</li>
                        <li>Verified information with accurate contact details</li>
                    </ul>
                </div>

                <form id="company-submission-form" style="max-width: 800px; margin: 3rem auto; background-color: var(--bg-white); padding: 2.5rem; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
                    <div style="margin-bottom: 2rem;">
                        <label for="internship-level" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-dark);">Internship Level *</label>
                        <select id="internship-level" name="internship-level" required style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 5px; font-size: 1rem; font-family: inherit;">
                            <option value="">Select level...</option>
                            <option value="freshman">Freshman</option>
                            <option value="sophomore">Sophomore</option>
                            <option value="both">Both Freshman and Sophomore</option>
                        </select>
                    </div>

                    <div style="margin-bottom: 2rem;">
                        <label for="company-name" style="display: block; margin-bottom: 0.5rem; font-weight: 600; color: var(--text-dark);">Company Name *</label>
                        <input type="text" id="company-name" name="company-name" required style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 5px; font-size: 1rem; font-family: inherit;">
                    </div>


                    <div id="form-message" style="margin-bottom: 1.5rem; padding: 1rem; border-radius: 5px; display: none;"></div>

                    <button type="submit" style="width: 100%; padding: 1rem; background-color: var(--primary-color); color: white; border: none; border-radius: 5px; font-size: 1.1rem; font-weight: 600; cursor: pointer; transition: background-color 0.3s ease;">Submit Company Information</button>
                </form>

                <div style="max-width: 800px; margin: 3rem auto; text-align: center; color: var(--text-light);">
                    <p><strong>Note:</strong> All submissions will be reviewed before being added to the website. We reserve the right to verify information and may contact you for clarification if needed.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="container">
            <p>&copy; 2025 NXT CPA. All rights reserved.</p>
            <p>Helping students find their path in accounting.</p>
        </div>
    </footer>

    <script src="script.js"></script>
    <script>
        // Wait for DOM to be ready
        function initForm() {
            const form = document.getElementById('company-submission-form');
            const messageDiv = document.getElementById('form-message');

            if (!form || !messageDiv) {
                // If not found, wait a bit and try again
                setTimeout(initForm, 100);
                return;
            }

            console.log('Form and message div found!');

            form.addEventListener('submit', function(e) {
                e.preventDefault();
                e.stopPropagation();
                
                console.log('Form submit event triggered!');

                // Get form data
                const formData = new FormData(form);
                const data = Object.fromEntries(formData);

                // Format the data for email or display
                let formattedMessage = 'Thank you for your submission! Here is a copy of the information you provided:\n\n';
                formattedMessage += `Internship Level: ${data['internship-level']}\n`;
                formattedMessage += `Company Name: ${data['company-name']}\n\n`;

                // Create email body
                const emailSubject = encodeURIComponent('New Company Submission - ' + data['company-name']);
                const emailBody = encodeURIComponent(
                    'New Company Submission for NXT CPA\n\n' +
                    'Internship Level: ' + data['internship-level'] + '\n' +
                    'Company Name: ' + data['company-name']
                );

                // Check if required fields are filled
                const internshipLevel = data['internship-level'];
                const companyName = data['company-name'];

                if (!internshipLevel || !companyName) {
                    messageDiv.style.display = 'block';
                    messageDiv.style.backgroundColor = '#f8d7da';
                    messageDiv.style.color = '#721c24';
                    messageDiv.style.border = '1px solid #f5c6cb';
                    messageDiv.innerHTML = '<strong>Error:</strong> Please fill in all required fields (marked with *).';
                    messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                    return;
                }

                console.log('Form data:', data);

                // Display success message
                messageDiv.style.display = 'block';
                messageDiv.style.backgroundColor = '#d4edda';
                messageDiv.style.color = '#155724';
                messageDiv.style.border = '1px solid #c3e6cb';
                messageDiv.innerHTML = `
                    <strong>Thank you for your submission!</strong><br><br>
                    Your company information has been prepared. Click the button below to send it via email, or copy the information shown below.<br><br>
                    <div style="margin: 1.5rem 0; text-align: center;">
                        <a href="mailto:jdenham@falcon.bentley.edu?subject=${emailSubject}&body=${emailBody}" 
                           style="display: inline-block; padding: 0.75rem 2rem; background-color: var(--primary-color); color: white; text-decoration: none; border-radius: 5px; font-weight: 600; margin-right: 1rem;">
                            ðŸ“§ Send via Email
                        </a>
                    </div>
                    <details style="margin-top: 1rem;">
                        <summary style="cursor: pointer; font-weight: 600; margin-bottom: 0.5rem;">View Formatted Information</summary>
                        <pre style="background: white; padding: 1rem; border-radius: 5px; text-align: left; overflow-x: auto; margin-top: 0.5rem; white-space: pre-wrap;">${formattedMessage}</pre>
                    </details>
                    <p style="margin-top: 1rem; font-size: 0.9rem;"><strong>Note:</strong> Submissions will be sent to jdenham@falcon.bentley.edu for review.</p>
                `;

                // Scroll to message
                messageDiv.scrollIntoView({ behavior: 'smooth', block: 'nearest' });

                // Don't reset form automatically - let user review first
            });

            // Also handle button click directly as additional fallback
            const submitButton = form.querySelector('button[type="submit"]');
            if (submitButton) {
                submitButton.addEventListener('click', function(e) {
                    console.log('Button clicked!');
                    // The form submit event should handle it, but just in case
                });
            }

            console.log('Event listeners attached successfully!');
        }

        // Start initialization
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', initForm);
        } else {
            initForm();
        }
    </script>
</body>
</html>

